!function(){function t(){s=!0,this.removeEventListener("DOMAttrModified",t,!1)}function e(t){return t.replace(o,function(t,e){return e.toUpperCase()})}function n(){var t={};return r.call(this.attributes,function(n){(i=n.name.match(d))&&(t[e(i[1])]=n.value)}),t}function a(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}var i,r=[].forEach,d=/^data-(.+)/,o=/\-([a-z])/gi,c=document.createElement("div"),s=!1;void 0==c.dataset&&(c.addEventListener("DOMAttrModified",t,!1),c.setAttribute("foo","bar"),a(Element.prototype,"dataset",s?function(){return this._datasetCache||(this._datasetCache=n.call(this)),this._datasetCache}:n),document.addEventListener("DOMAttrModified",function(t){delete t.target._datasetCache},!1))}();